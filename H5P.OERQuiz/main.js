(()=>{var e={624:()=>{H5P=H5P||{},H5P.OERQuiz=function(e,t,n){if(!(this instanceof H5P.OERQuiz))return new H5P.OERQuiz(e,t,n);H5P.EventDispatcher.call(this);var i=H5P.jQuery,s=this;this.contentId=t;var o={initialQuestion:0,progressType:"dots",passPercentage:50,questions:[],introPage:{showIntroPage:!1,title:"",introduction:"",startButtonText:"Start"},texts:{prevButton:"Previous question",nextButton:"Next question",finishButton:"Finish",textualProgress:"Question: @current of @total questions",jumpToQuestion:"Question %d of %total",questionLabel:"Question",readSpeakerProgress:"Question @current of @total",unansweredText:"Unanswered",answeredText:"Answered",currentQuestionText:"Current question"},endGame:{showResultPage:!0,noResultMessage:"Finished",message:"Your result:",oldFeedback:{successGreeting:"",successComment:"",failGreeting:"",failComment:""},overallFeedback:[],finishButtonText:"Finish",solutionButtonText:"Show solution",retryButtonText:"Retry",showAnimations:!1,skipButtonText:"Skip video",showSolutionButton:!0,showRetryButton:!0,successUrl:null,failUrl:null},override:{},disableBackwardsNavigation:!1},a=i.extend(!0,{},o,e);this.params=a;var r,u,d,c,l,g='<div class="questionset-results">  <div class="greeting"><%= message %></div>  <div class="feedback-section">    <div class="feedback-scorebar"></div>    <div class="feedback-text"></div>  </div>  <% if (comment) { %>  <div class="result-header"><%= comment %></div>  <% } %>  <% if (resulttext) { %>  <div class="result-text"><%= resulttext %></div>  <% } %>  <% if (successBadge) { %>  <img src="<%= successBadge %>" class="success-badge" />  <% } %> <% if (successUrl) { %><a href="<%= successUrl.url %>" target="_blank" class="h5p-joubelui-button gdl-questionset__endlink--success"><%= successUrl.linkLabel %></a> <% } %> <% if (failUrl) { %><a href="<%= failUrl.url %>" target="_blank" class="h5p-joubelui-button gdl-questionset__endlink--fail"><%= failUrl.linkLabel %></a> <% } %>  <div class="buttons">'+(a.endGame.showSolutionButton?'    <button type="button" class="h5p-joubelui-button h5p-button qs-solutionbutton"><%= solutionButtonText %></button>':"")+(a.endGame.showRetryButton?'    <button type="button" class="h5p-joubelui-button h5p-button qs-retrybutton"><%= retryButtonText %></button>':"")+"  </div></div>",h=new EJS({text:'<% if (introPage.showIntroPage) { %><div class="intro-page">  <% if (introPage.title) { %>    <div class="title"><span><%= introPage.title %></span></div>  <% } %>  <% if (introPage.introduction) { %>    <div class="introduction"><%= introPage.introduction %></div>  <% } %>  <div class="buttons"><a href="#" class="qs-startbutton h5p-joubelui-button h5p-button"><%= introPage.startButtonText %></a></div></div><% } %><div tabindex="-1" class="qs-progress-announcer"></div><div class="questionset<% if (introPage.showIntroPage) { %> hidden<% } %>">  <% for (var i=0; i<questions.length; i++) { %>    <div class="question-container"></div>  <% } %>  <div class="qs-footer">    <div class="qs-progress">      <% if (progressType == "dots") { %>        <ul class="dots-container" role="navigation">          <% for (var i=0; i<questions.length; i++) { %>           <li class="progress-item">             <a href="#"                class="progress-dot unanswered<%               if (disableBackwardsNavigation) { %> disabled <% } %>"               aria-label="<%=               texts.jumpToQuestion.replace("%d", i + 1).replace("%total", questions.length)               + ", " + texts.unansweredText %>" tabindex="-1"                <% if (disableBackwardsNavigation) { %> aria-disabled="true" <% } %>             ></a>           </li>          <% } %>        </div>      <% } else if (progressType == "textual") { %>        <span class="progress-text"></span>      <% } %>    </div>  </div></div>'}),p=new EJS({text:g}),v=i.extend(!0,{},o,e),f=0,b=[],m=!1,w=!1;(n=n||{}).previousState&&(n.previousState.progress&&(f=n.previousState.progress),u=n.previousState.order);var x=function(e){var t=e.map((function(e,t){return[e,t]}));t=H5P.shuffleArray(t),e=[];for(var i=0;i<t.length;i++)e[i]=t[i][0];for(var s=[],o=0;o<t.length;o++)n.previousState&&n.previousState.questionOrder?s[o]=u[t[o][1]]:s[o]=t[o][1];return{questions:e,questionOrder:s}};if(a.poolSize>0)if(n.previousState&&n.previousState.poolOrder){r=n.previousState.poolOrder;for(var P=[],k=0;k<r.length;k++)P[k]=a.questions[r[k]];a.questions=P}else{var q=x(a.questions),B=q.questions;r=q.questionOrder,B=B.slice(0,a.poolSize),r=r.slice(0,a.poolSize),a.questions=B}var y,S=i(h.render(a));(a.override.showSolutionButton||a.override.retryButton||!1===a.override.checkButton)&&(y={},a.override.showSolutionButton&&(y.enableSolutionsButton="on"===a.override.showSolutionButton),a.override.retryButton&&(y.enableRetry="on"===a.override.retryButton),!1===a.override.checkButton&&(y.enableCheckButton=a.override.checkButton));var T=function(e){for(var o=[],a=0;a<e.length;a++){var r;r=void 0!==u?e[u[a]]:e[a],y&&i.extend(r.params.behaviour,y),r.params=r.params||{};var d=n.previousState&&n.previousState.answers,c=H5P.newRunnable(r,t,void 0,void 0,{previousState:d?n.previousState.answers[a]:void 0,parent:s});c.on("resize",(function(){l=!0,s.trigger("resize")})),c.on("autoprogress",(()=>{M(1)})),o.push(c)}return o};if(b=T(a.questions),a.randomQuestions&&void 0===n.previousState){var G=x(b);b=G.questions,u=G.questionOrder}s.on("resize",(function(){if(l)l=!1;else for(var e=0;e<b.length;e++)b[e].trigger("resize")}));var H=function(){a.disableBackwardsNavigation&&(b[f].getAnswerGiven()&&b.length-1!==f?b[f].showButton("next"):b[f].hideButton("next"));for(var e=!0,t=b.length-1;t>=0;t--)e=e&&b[t].getAnswerGiven();f===a.questions.length-1&&b[f]&&(e?b[f].showButton("finish"):b[f].hideButton("finish"))},C=function(e,t){if(e<0&&(e=0),e>=a.questions.length&&(e=a.questions.length-1),f=e,s.trigger("questionChanged",a.questions[e]),z(f),i(".question-container",d).hide().eq(e).show(),b[e]){var n=b[e];n.setActivityStarted(),void 0!==n.$&&n.trigger("resize")}if("textual"===a.progressType)i(".progress-text",d).text(a.texts.textualProgress.replace("@current",e+1).replace("@total",a.questions.length));else{var o=i(".progress-dot.current",d).parent().index();o>=0&&(F(o,!1),A(o,b[o].getAnswerGiven())),F(e,!0)}return t||setTimeout((function(){var e=a.texts.readSpeakerProgress.replace("@current",(f+1).toString()).replace("@total",b.length.toString());i(".qs-progress-announcer",d).html(e).show().focus(),n&&n.readFeedback&&n.readFeedback()}),0),H(),s.trigger("resize"),f},z=function(e){for(var t=0;t<b.length;t++)b[t].pause();var n=a.questions[e];n&&n.params.media&&n.params.media.params&&n.params.media.params.playback&&n.params.media.params.playback.autoplay&&"function"==typeof b[e].play&&b[e].play()},Q=function(){w=!0;for(var e=0;e<b.length;e++){I(!0),e<b.length-1&&b[e].showButton("next"),e>0&&b[e].showButton("prev");try{b[e].toggleReadSpeaker(!0),b[e].showSolutions(),b[e].toggleReadSpeaker(!1)}catch(e){H5P.error("subcontent does not contain a valid showSolutions function"),H5P.error(e)}}},I=function(e){i(".progress-dot",d).each((function(){i(this).toggleClass("disabled",!e),i(this).attr("aria-disabled",e?"false":"true"),e||i(this).attr("tabindex","-1")}))},R=!1;this.reRender=function(){R=!1};var O=function(e){i(".question-container",d).each((function(){i(this).children().detach()}));for(var t=0;t<e.length;t++){var n=e[t];i(".question-container:eq("+t+")",d).attr("class","question-container"),n.attach(i(".question-container:eq("+t+")",d)),e[e.length-1]===n&&n.hasButton("finish")&&n.showButton("finish"),e[e.length-1]!==n&&n.hasButton("next")&&n.showButton("next"),e[0]!==n&&n.hasButton("prev")&&!a.disableBackwardsNavigation&&n.showButton("prev"),e[0]===n&&n.hideButton("prev"),e[e.length-1]===n&&n.hideButton("next"),e[e.length-1]!==n&&n.hideButton("finish")}},M=function(e){if(a.disableBackwardsNavigation&&!b[f].getAnswerGiven())return b[f].hideButton("next"),void b[f].hideButton("finish");var t;b[t=f]&&j(b[t]),f+e>=b.length?U():C(f+e)},A=function(e,t){var n=i(".progress-dot:eq("+e+")",d);if(!n.hasClass("current")){t=!!t;var s=a.texts.jumpToQuestion.replace("%d",(e+1).toString()).replace("%total",i(".progress-dot",d).length)+", "+(t?a.texts.answeredText:a.texts.unansweredText);n.toggleClass("unanswered",!t).toggleClass("answered",t).attr("aria-label",s)}},F=function(e,t){var n=i(".progress-dot:eq("+e+")",d),s=a.texts,o=s.jumpToQuestion.replace("%d",(e+1).toString()).replace("%total",i(".progress-dot",d).length);o+=t?", "+s.currentQuestionText:", "+(n.hasClass("answered")?s.answeredText:s.unansweredText);var r=a.disableBackwardsNavigation&&!w;n.toggleClass("current",t).attr("aria-label",o).attr("tabindex",t&&!r?0:-1)},U=function(){if(i(".progress-dot.current",d).removeClass("current"),R)return d.children().hide().filter(".questionset-results").show(),void s.trigger("resize");d.children().hide().filter(".questionset-results").remove(),R=!0;var e=s.getScore(),o=s.getMaxScore(),l=H5P.Question.determineOverallFeedback(a.endGame.overallFeedback,e/o).replace("@score",e).replace("@total",o),g=100*e/o>=a.passPercentage,h=function(e,t){i(e,d).click(t).keypress((function(e){32===e.which&&(t(),e.preventDefault())}))},f=function(){s.triggerXAPICompleted(s.getScore(),s.getMaxScore(),g);var f=a.endGame.successFeedback||null,m=a.endGame.failFeedback||null,P={message:a.endGame.showResultPage?a.endGame.message:a.endGame.noResultMessage,comment:a.endGame.showResultPage?g?a.endGame.oldFeedback.successGreeting:a.endGame.oldFeedback.failGreeting:void 0,resulttext:a.endGame.showResultPage?g?a.endGame.oldFeedback.successComment:a.endGame.oldFeedback.failComment:void 0,successUrl:"successUrl"===f.successType&&g?f.successUrl:null,successBadge:f.successBadge&&f.successBadge.path&&g?H5P.getPath(f.successBadge.path,t):null,failUrl:"failUrl"!==m.failType||g?null:m.failUrl,finishButtonText:a.endGame.finishButtonText,solutionButtonText:a.endGame.solutionButtonText,retryButtonText:a.endGame.retryButtonText};d.children().hide(),d.append(p.render(P)),a.endGame.showResultPage?(h(".qs-solutionbutton",(function(){Q(),d.children().hide().filter(".questionset").show(),C(a.initialQuestion)})),h(".qs-retrybutton",(function(){!function(){n.previousState=[],w=!1;for(var e=0;e<b.length;e++)try{b[e].resetTask(),a.disableBackwardsNavigation&&(I(!1),0===e&&b[e].getAnswerGiven()?b[e].showButton("next"):b[e].hideButton("next"),b[e].hideButton("prev"))}catch(e){H5P.error("subcontent does not contain a valid resetTask function"),H5P.error(e)}if(b[b.length-1].hideButton("finish"),i(".progress-dot").each((function(e){A(e,!1)})),R=!1,a.poolSize>0){var t=x(v.questions),s=t.questions;r=t.questionOrder,s=s.slice(0,a.poolSize),r=r.slice(0,a.poolSize),a.questions=s,b=T(a.questions),V()}else a.randomQuestions&&function(){var e=x(b);b=e.questions,u=e.questionOrder,O(b)}()}(),d.children().hide(),i(".intro-page",d).length?(i(".intro-page",d).show(),i(".qs-startbutton",d).focus()):(i(".questionset",d).show(),C(a.initialQuestion))})),void 0===c&&(c=H5P.JoubelUI.createScoreBar(o)),c.appendTo(i(".feedback-scorebar",d)),i(".feedback-text",d).html(l),setTimeout((function(){i(".qs-progress-announcer",d).html(P.message+"."+l+"."+P.comment+"."+P.resulttext).show().focus(),c.setMaxScore(o),c.setScore(e)}),0)):i(".qs-solutionbutton, .qs-retrybutton, .feedback-section",d).remove(),s.trigger("resize")},m=a.endGame.successFeedback,P=a.endGame.failFeedback,k="successVideo"===m.successType&&g?m.successVideo:null;if(k=g||"failVideo"!==P.failType?k:P.failVideo){d.children().hide();var q=i('<div class="video-container"></div>').appendTo(d),B=new H5P.Video({sources:k,fitToWrapper:!0,controls:!1,autoplay:!1},t);return B.on("stateChange",(function(e){e.data===H5P.Video.ENDED&&(f(),q.hide())})),B.attach(q),B.on("loaded",(function(){s.trigger("resize")})),B.play(),void i('<a class="h5p-joubelui-button h5p-button skip">Stop video</a>').click((function(){B.pause(),q.hide(),f()})).appendTo(q)}f(),s.trigger("resize")},N=function(e){H5P.on(e,"imageLoaded",(function(){s.trigger("resize")}))};function V(){for(var e=0;e<b.length;e++){var t=b[e];i(".question-container:eq("+e+")",d).attr("class","question-container"),t.attach(i(".question-container:eq("+e+")",d)),N(t),t.addButton("finish",a.texts.finishButton,M.bind(this,1),!1),t.addButton("next","",M.bind(this,1),!a.disableBackwardsNavigation||!!t.getAnswerGiven(),{href:"#","aria-label":a.texts.nextButton}),t.addButton("prev","",M.bind(this,-1),!(b[0]===t||a.disableBackwardsNavigation),{href:"#","aria-label":a.texts.prevButton}),b[b.length-1]===t&&t.hideButton("next"),t.on("xAPI",(function(e){var t=e.getVerb();"interacted"!==t&&"answered"!==t&&"attempted"!==t||(A(f,b[f].getAnswerGiven()),H()),"completed"===t&&e.setVerb("answered"),void 0===e.data.statement.context.extensions&&(e.data.statement.context.extensions={}),e.data.statement.context.extensions["http://id.tincanapi.com/extension/ending-point"]=f+1})),A(e,t.getAnswerGiven())}}this.attach=function(e){if(this.isRoot()&&this.setActivityStarted(),(d=i("string"==typeof e?"#"+e:e)).children().remove(),d.append(S),void 0!==a.backgroundImage&&d.css({overflow:"hidden",background:'#fff url("'+H5P.getPath(a.backgroundImage.path,t)+'") no-repeat 50% 50%',backgroundSize:"100% auto"}),void 0!==a.introPage.backgroundImage){var n=d.find(".intro-page");if(n.length){var o=a.introPage.backgroundImage,r=o.height/o.width;n.css({background:'#fff url("'+H5P.getPath(o.path,t)+'") no-repeat 50% 50%',backgroundSize:"auto 100%",minHeight:r*+window.getComputedStyle(n[0]).width.replace("px","")})}}V(),i(".questionset",d).addClass("started"),i(".qs-startbutton",d).click((function(){i(this).parents(".intro-page").hide(),i(".questionset",d).show(),s.trigger("quizStarted"),C(a.initialQuestion),event.preventDefault()})).keydown((function(e){switch(e.which){case 13:case 32:i(this).parents(".intro-page").hide(),i(".questionset",d).show(),C(a.initialQuestion),e.preventDefault()}})),a.autoProgression&&a.autoProgression.enabled&&d.find(".h5p-question-check-answer").hide();var u=function(e){e.preventDefault(),a.disableBackwardsNavigation};return i(".progress-dot",d).click(u).keydown((function(e){var t=i(this);switch(e.which){case 13:case 32:u.call(this,e);break;case 37:case 38:var n=t.parent().prev();n.length&&(n.children("a").attr("tabindex","0").focus(),t.attr("tabindex","-1"));break;case 39:case 40:var s=t.parent().next();s.length&&(s.children("a").attr("tabindex","0").focus(),t.attr("tabindex","-1"))}})),C(f,!0),m&&Q(),H(),this.trigger("resize"),this},this.getQuizConfig=function(){return this.params},this.getScore=function(){for(var e=0,t=b.length-1;t>=0;t--)e+=b[t].getScore();return e},this.getMaxScore=function(){for(var e=0,t=b.length-1;t>=0;t--)e+=b[t].getMaxScore();return e},this.totalScore=function(){return this.getMaxScore()},this.getCopyrights=function(){var e,n,i=new H5P.ContentCopyrights;if(void 0!==a.introPage&&void 0!==a.introPage.backgroundImage&&void 0!==a.introPage.backgroundImage.copyright){var s=new H5P.MediaCopyright(a.introPage.backgroundImage.copyright);s.setThumbnail(new H5P.Thumbnail(H5P.getPath(a.introPage.backgroundImage.path,t),a.introPage.backgroundImage.width,a.introPage.backgroundImage.height)),i.addMedia(s)}if(void 0!==a.backgroundImage&&void 0!==a.backgroundImage.copyright){var o=new H5P.MediaCopyright(a.backgroundImage.copyright);o.setThumbnail(new H5P.Thumbnail(H5P.getPath(a.backgroundImage.path,t),a.backgroundImage.width,a.backgroundImage.height)),i.addMedia(o)}for(var r=0;r<b.length;r++){var u=b[r],d=a.questions[r].params;e=void 0,void 0!==u.getCopyrights&&(e=u.getCopyrights()),void 0===e&&(e=new H5P.ContentCopyrights,H5P.findCopyrights(e,d.params,t,{metadata:d.metadata,machineName:d.library.split(" ")[0]}));var c=a.texts.questionLabel+" "+(r+1);void 0!==d.params.contentName?c+=": "+d.params.contentName:void 0!==u.getTitle&&(c+=": "+u.getTitle()),e.setLabel(c),i.addContent(e)}return void 0!==a.endGame.successVideo&&a.endGame.successVideo.length>0&&void 0!==(n=a.endGame.successVideo[0]).copyright&&i.addMedia(new H5P.MediaCopyright(n.copyright)),void 0!==a.endGame.failVideo&&a.endGame.failVideo.length>0&&void 0!==(n=a.endGame.failVideo[0]).copyright&&i.addMedia(new H5P.MediaCopyright(n.copyright)),i},this.getQuestions=function(){return b},this.showSolutions=function(){m=!0};var j=function(e){try{void 0!==e.pause&&(e.pause instanceof Function||"function"==typeof e.pause)&&e.pause()}catch(e){H5P.error(e)}};this.getCurrentState=function(){return{progress:w?b.length-1:f,answers:b.map((function(e){return e.getCurrentState()})),order:u,poolOrder:r}},this.getXAPIData=function(){var e=this.createXAPIEventTemplate("answered");return function(e){var t=e.getVerifiedStatementValue(["object","definition"]);i.extend(t,{interactionType:"compound",type:"http://adlnet.gov/expapi/activities/cmi.interaction",description:{"en-US":""}})}(e),e.setScoredResult(this.getScore(),this.getMaxScore(),this,!0,this.getScore()===this.getMaxScore()),{statement:e.data.statement,children:(this,this.getQuestions().map((function(e){return e.getXAPIData()})))}}},H5P.OERQuiz.prototype=Object.create(H5P.EventDispatcher.prototype),H5P.OERQuiz.prototype.constructor=H5P.OERQuiz}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";n(624)})()})();